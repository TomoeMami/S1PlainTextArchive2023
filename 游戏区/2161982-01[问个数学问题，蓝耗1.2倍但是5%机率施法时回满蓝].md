
*****

####  杨千fa单推人  
##### 1#       楼主       发表于 2023-11-26 10:47

这样的话和普通白板相比期望到底好多少呢

玩魔法工艺的时候一直在想，但是前文科生实在算不明白

*****

####  看脸  
##### 2#       发表于 2023-11-26 10:50

加条件啊，条件越多越好判断，你是一天就打10个怪还是一招下去秒几百个杂怪，你一管MP能放几百个魔法还是只能放两三个魔法就干了

*****

####  小司司  
##### 3#       发表于 2023-11-26 10:50

这个和你使用的魔法MP占全部mp的比例关系很大。

你想想，你MP上限65535，你每回合一个魔法只用10点mp~你耗1.2倍有啥影响。回蓝有啥用？

如果你上限11，一个魔法10点MP。你1.2倍还能发出来吗？？

*****

####  布里兰特  
##### 4#       发表于 2023-11-26 10:52

这个还要看你的总蓝量和频次啊

*****

####  ayeah  
##### 5#       发表于 2023-11-26 10:55

在游戏里这种基本都是加强<img src="https://static.saraba1st.com/image/smiley/face2017/010.png" referrerpolicy="no-referrer">

*****

####  杨千fa单推人  
##### 6#         楼主| 发表于 2023-11-26 11:01

 本帖最后由 杨千fa单推人 于 2023-11-26 11:05 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63141195&amp;ptid=2161982" target="_blank">小司司 发表于 2023-11-26 10:50</a>

这个和你使用的魔法MP占全部mp的比例关系很大。

你想想，你MP上限65535，你每回合一个魔法只用10点mp~你耗 ...</blockquote>
这游戏第一管蓝只够灌几秒输出，然后就要开始等回蓝，回多少打多少了

*****

####  谢拉厨  
##### 7#       发表于 2023-11-26 11:11

一管蓝能放十个以上技能这个buff就可以点

*****

####  wlgdc  
##### 8#       发表于 2023-11-26 11:20

直接空蓝测，多少瓶回蓝药放多少次魔法

*****

####  Sunyalche  
##### 9#       发表于 2023-11-26 11:22

 本帖最后由 Sunyalche 于 2023-11-26 11:41 编辑 

其实就是95%连续不触发n次需要的次数期望了, n是用法杖后满魔能施法的次数

这个期望是大概是20 * (1.05^n - 1)

只要这个期望大于不用法杖原来的次数1.2 * n, 那法杖就有用了

最后算出来确实是1.2倍蓝耗后满魔能施法10次以上就可以用

*****

####  tsubasa9  
##### 10#       发表于 2023-11-26 11:23

 本帖最后由 tsubasa9 于 2023-11-26 11:25 编辑 

这个要考虑单位时间的回蓝量，单位时间的技能数量（频率）和单个技能的耗蓝量才能算

然后算一下原先一管蓝仅在1.2倍耗蓝下能放多少个技能N，再算一下这些技能都不触发回满蓝的概率0.95^N，N不太小就是赚的

*****

####  urvark  
##### 11#       发表于 2023-11-26 11:32

大体上是亏的，1.2倍的耗蓝等价于本来可以放6次的法力现在只够放5次，这就已经比5%概率回满的影响要大了，而且概率回蓝不可控，你无法期待它每次都在你空蓝时生效，如果还有半管蓝时触发了等于效果打对折

当然具体问题具体对待，比如游戏中你可以高频释放最低蓝耗法术来触发回蓝特效，满蓝后再放高消耗法术，待蓝量还剩10%时切回低耗法术蹭效果……如此反复的话，5%回满就是很有价值的

又或者游戏里有其它装备提供增加概率效果触发率的特效一类的话，也可以用

*****

####  shyso  
##### 12#       发表于 2023-11-26 11:56

幸……幸运一击？

*****

####  zerocount  
##### 13#       发表于 2023-11-26 11:56

燃尽：所有法术的爆击伤害加成提高50%，但是你的非周期性法术爆击之后会额外消耗该法术所需法力值的5%。

奥术专注        等级 5
使你有10%的几率在任何伤害法术命中目标之后进入节能施法状态。节能施法状态可以使你的下一个伤害性法术所消耗的法力值减少100%。

回满蓝？
看看实际存在过的设计吧
我还没见过任何一个火法天赋不点这俩的

*****

####  幻想风靡_  
##### 14#       发表于 2023-11-26 12:03

这不精气光环吗

那你有没有依赖自己蓝量百分比使用的技能（比如黑鸟法球或者蓝胖a杖爆

*****

####  星花  
##### 15#       发表于 2023-11-26 12:35

这东西本身也需要消耗附魔词条吧，这没代价？

*****

####  chenriming2  
##### 16#       发表于 2023-11-26 12:53

这还用想？如果你蓝能放20次以上法术这技能绝对有用

*****

####  杨千fa单推人  
##### 17#         楼主| 发表于 2023-11-26 12:56

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142029&amp;ptid=2161982" target="_blank">chenriming2 发表于 2023-11-26 12:53</a>

这还用想？如果你蓝能放20次以上法术这技能绝对有用</blockquote>
但是在打空蓝开始等回蓝才能施法的情况下，不触发回蓝特效的话等于攻击间隔也要延长20%呀

*****

####  chenriming2  
##### 18#       发表于 2023-11-26 13:00

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142057&amp;ptid=2161982" target="_blank">杨千fa单推人 发表于 2023-11-26 12:56</a>

但是在打空蓝开始等回蓝才能施法的情况下，不触发回蓝特效的话等于攻击间隔也要延长20%呀 ...</blockquote>
0.95^20=0.35, 不触发回蓝特效35%，触发回蓝65%

*****

####  枪道武藏  
##### 19#       发表于 2023-11-26 13:13

实际上游戏体验：打一击秒的小怪经常触发特效，打BOSS最需要蓝的时候它死活不触发了<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

而且为啥要用白板，我选择其他附魔<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  格雷殿下  
##### 20#       发表于 2023-11-26 13:20

黑鸟来咯，哥们还按耗蓝算伤害呢

*****

####  qq2007ssy  
##### 21#       发表于 2023-11-26 13:45

感觉没法按回蓝量的收益来算，实际是可能本来稳过的boss, 加上这种随机性，关键时刻无法触发回蓝，导致直接g

*****

####  moonblackwh  
##### 22#       发表于 2023-11-26 13:55

游戏哪有做真随机的，不都是伪随机，5%就是20次出一次

*****

####  白左  
##### 23#       发表于 2023-11-26 13:57

 本帖最后由 白左 于 2023-11-26 13:59 编辑 

上次还有人自信s1平均学历大于本科来着<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

设基础施法消耗m，一次施法后就两种情况

1. 没触发，蓝量变动为-1.2m

2. 触发了，蓝量变动为M

其中M为触发时已经用掉的蓝量

又知回蓝事件为p=0.05的二项分布，触发前的施法次数期望为1/p=20次，则M=20*1.2m=24m

所以每次施法后的蓝量变动期望为

E(Δm) = 95% * (-1.2m)  + 5% * (24m)

E(Δm) = 0.06m

原本魔耗期望是-m，也就是说蓝量充足的情况下魔耗是负的，越打越多

如果蓝量不能保证连续施法的边界情况懒得算了

*****

####  tsubasa9  
##### 24#       发表于 2023-11-26 14:01

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142486&amp;ptid=2161982" target="_blank">白左 发表于 2023-11-26 13:57</a>

上次还有人自信s1平均学历大于本科来着

设基础施法消耗m，一次施法后就两种情况</blockquote>
1. 谁告诉你20次

2. 你没算自然回蓝，不然打完了干等？

3. 蓝有上限，5%*(20m)你意思是打一次技能就空蓝？

*****

####  你妈的为什么  
##### 25#       发表于 2023-11-26 14:13

黑鸟不点精气光环是吧<img src="https://static.saraba1st.com/image/smiley/face2017/049.png" referrerpolicy="no-referrer">

*****

####  Sunyalche  
##### 26#       发表于 2023-11-26 14:15

 本帖最后由 Sunyalche 于 2023-11-26 14:25 编辑 

搞那么复杂干嘛? 蓝打空只有一种情况, 就是连续n次都不触发回蓝, n是1.2倍蓝耗时没回蓝buff的施法次数

相当于d20骰子连续投出n次都不是20, 出现这种情况需要的总次数M的期望是多少, 总次数M的期望就是用这个回蓝buff后的施法次数的期望

这个期望公式能通过递推得到E = (1 / 0.05) (1 / (0.95^n) - 1)

*****

####  白左  
##### 27#       发表于 2023-11-26 14:24

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142505&amp;ptid=2161982" target="_blank">tsubasa9 发表于 2023-11-26 14:01</a>

1. 谁告诉你20次

2. 你没算自然回蓝，不然打完了干等？

3. 蓝有上限，5%*(20m)你意思是打一次技能就空蓝 ...</blockquote>
1. 是我搞错了，应该叫几何分布，结论是一样的

2. 自然回蓝是个独立参数，和问题有什么关系吗？

3. <img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer"> 你再想想

*****

####  tsubasa9  
##### 28#       发表于 2023-11-26 14:26

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142619&amp;ptid=2161982" target="_blank">白左 发表于 2023-11-26 14:24</a>

1. 是我搞错了，应该叫几何分布，结论是一样的

2. 自然回蓝是个独立参数，和问题有什么关系吗？

3. [f:03 ...</blockquote>
要不你再想想？

*****

####  dazzle  
##### 29#       发表于 2023-11-26 14:28

简单估算就是每次施法获得0.05倍总蓝量，损失0.2倍施法消耗，对比这两个数字就行了

复杂策略的话比如考虑自然回蓝，打空不能触发，还有低消耗法术触发以后放高消耗法术，就得上simulator了

*****

####  Sunyalche  
##### 30#       发表于 2023-11-26 14:29

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142645&amp;ptid=2161982" target="_blank">dazzle 发表于 2023-11-26 14:28</a>

简单估算就是每次施法获得0.05倍总蓝量，损失0.2倍施法消耗，对比这两个数字就行了

复杂策略的话比如考虑自 ...</blockquote>
第一次施法就触发的话恢复的可就只有第一次消耗的蓝了, 这样算肯定不对了


*****

####  dazzle  
##### 31#       发表于 2023-11-26 14:35

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142652&amp;ptid=2161982" target="_blank">Sunyalche 发表于 2023-11-26 14:29</a>

第一次施法就触发的话恢复的可就只有第一次消耗的蓝了, 这样算肯定不对了 ...</blockquote>
是这样，还挺难估算的，还是simulator吧

*****

####  白左  
##### 32#       发表于 2023-11-26 14:39

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142636&amp;ptid=2161982" target="_blank">tsubasa9 发表于 2023-11-26 14:26</a>

要不你再想想？</blockquote>

<img src="https://img.saraba1st.com/forum/202311/26/143838gzn0e7cv50mno457.jpg" referrerpolicy="no-referrer">

<strong>Snipaste_2023-11-26_14-38-29.jpg</strong> (69.81 KB, 下载次数: 0)

下载附件

2023-11-26 14:38 上传

考虑到坛友可能有未知的视力缺陷，我把重点给你画出来了，你看看是不是漏看了哪条

如果还有疑问的话，可以列出你的公式来

*****

####  Sunyalche  
##### 33#       发表于 2023-11-26 14:44

 本帖最后由 Sunyalche 于 2023-11-26 14:45 编辑 
<blockquote>所以每次施法后的蓝量变动期望为

E(Δm) = 95% * (-1.2m)  + 5% * (24m)

E(Δm) = 0.06m</blockquote>

你觉得每次施法的耗蓝量的期望都是相同的就有问题了

满蓝时施法的期望和半蓝空蓝的耗蓝期望是明显不同的

*****

####  tsubasa9  
##### 34#       发表于 2023-11-26 14:46

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142708&amp;ptid=2161982" target="_blank">白左 发表于 2023-11-26 14:39</a>

考虑到坛友可能有未知的视力缺陷，我把重点给你画出来了，你看看是不是漏看了哪条

如果还有疑问的话， ...</blockquote>
自己改贴怪别人视力，典

又看了一遍你改后的，你凭什么觉得20次那时候的期望就是总体期望？

你都会算这个了，算一下积分很难吗

*****

####  wzh5555  
##### 35#       发表于 2023-11-26 14:48

 本帖最后由 wzh5555 于 2023-11-26 14:52 编辑 

不知道这么算对不对，

(1-0.95^n)1.2&gt;0.2

这样出来0.95^n&lt;83.3%就行， n从4次开始就预期相对较高？

不过实际情况因为不可能每次都是“n次耗完之后补满”这种最大收益情况，所以感觉这个预期算起来很复杂。

*****

####  snarc1  
##### 36#       发表于 2023-11-26 15:00

如果面对BOSS在完全没触发效果的情况下把1.2消耗的蓝打光前就能干掉，没有意义。如果处于不触发效果一倍消耗不会打光蓝，1.2倍会打光蓝的情况，不点这个技能。如果都会消耗光蓝，那还是赌这个技能吧。

—— 来自 [S1Fun](https://s1fun.koalcat.com)

*****

####  tsubasa9  
##### 37#       发表于 2023-11-26 16:03

 本帖最后由 tsubasa9 于 2023-11-26 18:55 编辑 

我替你算了，就当没有自然回蓝算,

假设1.2倍耗蓝后，完全不触发回满蓝能打该技能的次数是c

那么原来能打的技能次数是1.2c

现在假设打了k次首次触发回蓝，概率pk=0.05*0.95^(k-1)

一旦触发回蓝，相当于次数重计

那么假设该技能下打出来的期望次数是N

假设打了k次首次触发回蓝，则又能多打N次

也就是这种情况下对总次数的贡献是其期望pk*(k+N)

做积分就是c*0.95^c + \sigma pk*(k+N), k=1 to c

这个和就是N

N=20*0.95^(-c) - 20&gt;1.2c

c&gt;6

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| 夏侯妙才| + 1|好评加鹅|

查看全部评分

*****

####  Sunyalche  
##### 38#       发表于 2023-11-26 16:17

var testTimes = 100000; var totalMagic = 100d; var p = 0.05; var rand = new Random(); for (var baseNum = 2; baseNum &lt; 40; baseNum++) {   var baseMagic = totalMagic / baseNum;   var highMagic = baseMagic * 1.2;    var results = new List&lt;int&gt;(testTimes);   for (var i = 0; i &lt; testTimes; ++i) {     var testTotalMagic = totalMagic;     var sum = 0;     while (testTotalMagic &gt;= highMagic) {       if (rand.NextDouble() &lt; p) {         testTotalMagic = totalMagic;       } else {         testTotalMagic -= highMagic;       }       sum++;     }     results.Add(sum);   }   var avgNum = results.Average();   var var = results.Average(p =&gt; (p - avgNum) * (p - avgNum));    var highBaseNum = Math.Floor(totalMagic / highMagic);   var mathNum = (1.0 / p) * (1.0 / Math.Pow((1.0 - p), highBaseNum) - 1.0);    Console.WriteLine($"{baseNum}\t{mathNum:0.##}\t{avgNum:0.##}\t{var:0.##}"); }复制代码

<img src="https://img.saraba1st.com/forum/202311/26/161534dmgvov66ovsnf55a.png" referrerpolicy="no-referrer">

<strong>test.png</strong> (59.72 KB, 下载次数: 0)

下载附件

2023-11-26 16:15 上传

基础值 计算值 模拟值 方差

写个模拟试试看, 结果跟计算出来的差不多

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| 夏侯妙才| + 1|好评加鹅|

查看全部评分

*****

####  复东生  
##### 39#       发表于 2023-11-26 17:28

结论：按照楼主的要求，在不考虑其他条件下，当技能释放次数大于6时，加特性更省蓝，且释放次数越多越省（这俩一个是线性的，一个是底数小于1的指数，不是一个量级的）

直接看图吧：

<img src="https://img.saraba1st.com/forum/202311/26/172808pfrft44ndpddrkkp.jpeg" referrerpolicy="no-referrer">" src="https://static.saraba1st.com/image/common/none.gif" referrerpolicy="no-referrer">

<strong>3ddae16b1d0ee23a680c5c0904e47b08.jpeg</strong> (402.96 KB, 下载次数: 0)

下载附件

由手机上传
2023-11-26 17:28 上传

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| Tring| + 1|回蓝是总耗蓝这角度确实更精简。.|

查看全部评分

*****

####  复东生  
##### 40#       发表于 2023-11-26 17:29

<blockquote>复东生 发表于 2023-11-26 17:28
结论：按照楼主的要求，在不考虑其他条件下，当技能释放次数大于6时，加特性更省蓝，且释放次数越多越省（ ...</blockquote>
图里“线性”圈错行了，不过能理解就好

*****

####  白左  
##### 41#       发表于 2023-11-26 18:08

 本帖最后由 白左 于 2023-11-26 18:14 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142755&amp;ptid=2161982" target="_blank">tsubasa9 发表于 2023-11-26 14:46</a>

自己改贴怪别人视力，典

又看了一遍你改后的，你凭什么觉得20次那时候的期望就是总体期望？

你都会算这个 ...</blockquote>
首先，为我不能预测你两分钟后发的贴、并且不能读空气明白当我说“再看看”的时候你并没有再看看这件事道歉

今后我会努力学习预测坛友未来两分钟发的帖，避免坛友看错

<img src="https://img.saraba1st.com/forum/202311/26/180846o9hgcrurcx7xvgc7.jpg" referrerpolicy="no-referrer">

<strong>4.jpg</strong> (78.43 KB, 下载次数: 0)

下载附件

2023-11-26 18:08 上传

其次，比起来回杠上四五个回合，早点把公式发出来不就完了

我的算法确实没有回答题主的问题，但是我觉得也不能算错

我的方法算的是无穷蓝量下无限次施法后蓝量变动的期望，但是这个期望实际上和“单位区间内的释放次数”实际上是不一样的

原本以为得到无穷蓝量的期望后，去掉期望公式中“触发回蓝前施法次数n”中n大于k（比如6次）的期望，剩下的就是所求的值了，但是好像哪里不对（

*****

####  布里兰特  
##### 42#       发表于 2023-11-26 18:19

感觉都有点问题啊，其实和楼主的玩法也有关系吧？比如说楼主是每次都是等魔杖充满MP再一次性释放魔法还是不等MP值回当一有足量MP就释放

*****

####  codecloud  
##### 43#       发表于 2023-11-26 18:21

这就是个mp释放次数和倍率的比率吧.

如果mp只够释放一次,那就是纯亏.如果能放10次,那么大概在第10次时有0.4的概率跳满mp?收益看似很高.但因为跳满蓝是个随机数概率分布,所以实际上这个收益是纯亏,因为可能在第一次释放就跳满蓝,然后放到空蓝都没再跳.也就是概率太小,纯属赌命刷脸,导致无法作为决策时的可选项.

当然,如果1.2倍耗蓝如果能增伤,那就是正面收益.如果不能增伤,就是纯亏的模型.

*****

####  杨千fa单推人  
##### 44#         楼主| 发表于 2023-11-26 18:30

你们怎么吵起来了<img src="https://static.saraba1st.com/image/smiley/face2017/105.png" referrerpolicy="no-referrer">

*****

####  eva02eva02  
##### 45#       发表于 2023-11-26 19:22

耗蓝1.2倍意味着某些魔法可能永远释放不了<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

*****

####  アヘ顔  
##### 46#       发表于 2023-11-26 19:29

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63143971&amp;ptid=2161982" target="_blank">杨千fa单推人 发表于 2023-11-26 18:30</a>
你们怎么吵起来了</blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">概率问题吵起来可太正常了，更何况你这个概率问题可以讨论的条件还很多

*****

####  cleverfox  
##### 47#       发表于 2023-11-26 20:14

 本帖最后由 cleverfox 于 2023-11-26 20:19 编辑 

蓝越多回满蓝越有用，比如满蓝能施法50次，那5%回满基本就不会缺蓝了

要是满蓝只能施法5次，那5%回满就没啥用

*****

####  巨魔已被忠诚  
##### 48#       发表于 2023-11-26 20:25

这个和释放法术次数相关，不限定次数，施法消耗够小的情况下收敛到1的。

再说个严谨一点的

触发器是【法术成功释放】时，还是【法术命中】时，后者还有AoE多单位命中时的情况。

如果是释放时判定，还能用低消耗法术-取消来骗，【施放法术】的触发器。

你知道技能编辑器有多好玩吗<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  GJRstone  
##### 49#       发表于 2023-11-26 20:42

原始设计的dps是y=10和y=2两段线，分界点在x=12，新设计是y=10，y=2/1.2，分界点在x=10，概率延长y=10的长度。

比较好坏的话，要分两个维度来讨论，一个是平均战斗时间占比，一个是触发5%的基准（受总蓝量和消耗量影响）。

无限时间木桩的话，前者总伤害是两段折线，斜率是k1，k2，后者总伤害是k1，0.85k2的两段折线基础上，概率重置曲线斜率，显然k2显著小于k1的话，第二把秒第一把

打爆发的话，碾压一样，特定区间内，后者总伤害少15%。游戏策划如果要拉长养成线的话，会在这里卡你，逼你做两把

*****

####  不可避免  
##### 50#       发表于 2023-11-26 21:09

这个讨论给我感觉像是一堆不玩游戏的人在扯。

有这种技能点的游戏，很少有放四五个技能就空蓝的。

所以多数游戏实际玩的时候遇到无脑点就是了。

满蓝触发或者半蓝触发是亏了吗？只是回到了最好的有一整管蓝的情况而已。

*****

####  nuqzyc  
##### 51#       发表于 2023-11-26 21:17

一是算术能解决。二是玩wow经验告诉我绝对是5%回满香。

*****

####  夏侯妙才  
##### 52#       发表于 2023-11-26 21:48

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63145150&amp;ptid=2161982" target="_blank">不可避免 发表于 2023-11-26 21:09</a>

这个讨论给我感觉像是一堆不玩游戏的人在扯。

有这种技能点的游戏，很少有放四五个技能就空蓝的。

所以多数 ...</blockquote>
你笑别人不懂游戏，别人笑你不懂数学

*****

####  Sunyalche  
##### 53#       发表于 2023-11-26 21:55

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63145150&amp;ptid=2161982" target="_blank">不可避免 发表于 2023-11-26 21:09</a>

这个讨论给我感觉像是一堆不玩游戏的人在扯。

有这种技能点的游戏，很少有放四五个技能就空蓝的。

所以多数 ...</blockquote>
这游戏有一堆加蓝耗的配件, 还是乘法计算的, 叠满了可能一个技能都放不出来

没算之前我觉得可能放10次就很划算了, 算了之后才知道放10次刚好等于没有还浪费一个buff

只能用在一些特定的bd才划得来

*****

####  wizardry  
##### 54#       发表于 2023-11-26 22:04

不同魔法都能触发肯定士后者……

*****

####  Raumanzug  
##### 55#       发表于 2023-11-26 22:45

还和打法和使用场景有关。

拿楼上说的蓝只够放一次这种极端场景说，通常这种法术基本伴随着超高伤害，配上buff基本上两三次就放倒boss了，这时凸回蓝其实是凸超高收益的暴击，理想情况下能有很高的强度。

而另一种极端，比如一管蓝能放50次以上，虽然这时几率回蓝必然正收益，但蓝量这时大概率也不太重要，不如直接强化其他方面。

*****

####  Tring  
##### 56#       发表于 2023-11-26 23:42

 本帖最后由 Tring 于 2023-11-26 23:57 编辑 

其实问题只和1个参数有关：

不算触发回蓝，只算基础回蓝，从满蓝到打空实际上能够连发多少发魔法。

基础情况记为n1次打空蓝，修正情况记为n2次打空蓝。

概率计算部分是真的挺纠结的。

为了让这个问题能够更直观的思考，把问题稍微转换一下：

投M次硬币，不出现N次连续正面的概率（正反面概率不等）,记为P1(M, N)。

令单次出现正面的概率为P。

投M+1+N次硬币，刚好最后N次为正面，前M次不出现连续N次正面，而第M+1次刚好是翻面，的概率为：

P2(M+N+1, N) = P1(M, N) * (1-P) * P ^ N   （式1）

而投M次硬币，出现N次连续正面的概率（1-P(M)），实际可以写作每一位结尾刚好出现N次连续正面的概率之和：

1-P1(M) = P2(M, N) + P2(M-1, N) + ... + P2(N, N)   （式2）

把式1调整参数，可以得到：

P2(M, N) = P1(M - N - 1, N) * (1-P) * P ^ N    (M &gt; N)

P2(N, N) = P ^ N

P2(M, N) = 0         (M &lt; N)

到这里为止能手算的部分就差不多了，后面就是超纠结的递归了。

就算用sympy符号计算，结果多项式展开也杂到没法看。因此直接上数值计算了。

直接用P2与打空蓝的次数n相乘求得实际多少次打空蓝。
 #! python3 # coding: utf-8  _cch = {} def cch(nm):     if nm in _cch:         _c = _cch[nm]     else:         _c = {}         _cch[nm] = _c     def _mod(func):         def _wrap(*args):             if args in _c:                 return _c[args]             r = func(*args)             _c[args] = r             return r         return _wrap     return _mod  # prob of M coins, NO consecutive N heads @cch('nc') def pr_nc(m, n, p):     ps = 0     for i in range(n, m+1):         ps += pr_lc(i, n, p)     return 1 - ps  # prob of M coins, 1 tail and N heads at last @cch('lc') def pr_lc(m, n, p):     if m &lt; n:         return 0     elif m == n:         return p ** n     else:         return pr_nc(m - n - 1, n, p) * (1 - p) * p ** n  def calc_exp(m, n, p):     s = 0     d = 0     for i in range(0, m+1):         d = pr_lc(i, n, p) * i         s += d     assert d &lt; 0.001     return s  if __name__ == '__main__':     from matplotlib import pyplot as plt     def draw(n1, n2, ax, mx=300, p = 0.95):         xs = []         ys1 = []         ys2 = []         k = n1 / n2         for x in range(n1 * 2):             xs.append(x)             y1 = x * k             y2 = calc_exp(mx, x, p)             ys1.append(y1)             ys2.append(y2)             if x &gt; 0 and abs(y1 - y2) &lt; 1e-2:                 cy = y2                 cx = x         ax.plot(xs, ys1)         ax.plot(xs, ys2)         ax.plot([0, n2, n2], [n1, n1, 0], ':')         ax.plot([0, cx, cx], [cy, cy, 0], ':')         ax.legend(['n1', 'n2'])         ax.set_ylabel('n real')         ax.set_xlabel('n2')     def main():         fig, axs = plt.subplots(1)         draw(12, 10, axs)         plt.show()         plt.cla()     main() 复制代码

<img src="https://img.saraba1st.com/forum/202311/26/234128ckycke2djjjky2vz.png" referrerpolicy="no-referrer">

<strong>image.png</strong> (18.92 KB, 下载次数: 0)

下载附件

2023-11-26 23:41 上传

草草的拿基础12次打空蓝，修正后不回蓝10次打空蓝来计算，

可以看到实际上只要蓝条能撑过6次以上（这个数值会随着实际上打空蓝的次数比变化，因为有基础回蓝所以并不是准确1.2倍，但是趋势不会变化），

就是修正后几率回蓝的情况打空蓝的期望次数更高。

而且随着蓝条能打的发数增加，这个优势还会更加明显。

*****

####  弧离的三型  
##### 57#       发表于 2023-11-27 00:36

 本帖最后由 弧离的三型 于 2023-11-27 00:50 编辑 

编辑了

*****

####  Arccueid  
##### 58#       发表于 2023-11-27 01:20

 本帖最后由 Arccueid 于 2023-11-27 01:28 编辑 

最简模型就是按蓝耗次数算期望，楼上几个6次的答案都是对的，实际模型可能还要考虑自然恢复和攻速得到实际的消耗和蓝量限制，跑程序模拟可以得到最精准的答案(只算期望对游戏体验的参考其实不够完整，因为类似低概率回满蓝极端特效方差的影响还是挺大的，比如说没有任何特效你本身可以稳定释放10次法术才空蓝，假定一个数值的这类特效让你可以90%的几率释放只有5次以内，但是有10%的机会得到100次以上，虽然期望是更高的，但是可能会影响实际的游戏体验)。

另外如果对这类RPG游戏比较敏感的话很容易就会知道，无特效情况下满蓝可释放次数越多(不管这个结果是蓝太多还是法力消耗太低导致的)，这个加蓝耗回满蓝的特效都会更好用。

*****

####  blackll7  
##### 59#       发表于 2023-11-27 01:28

其实问这个问题本身就是一个问题，突出了对游戏的理解有误，因为影响这一装备游玩效果的并不是期望而是概型。
就好比你100攻打100血的怪，给你一个装备降低1攻击，10%的几率暴击打出额外100点伤害，这期望109攻，但是对玩家来说这是纯亏了90%的攻击。
同样对这个问题来说，应该计算的是等时间额外释放次数分布而不是什么期望。

—— 来自 OnePlus CPH2487, Android 13上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  Arccueid  
##### 60#       发表于 2023-11-27 01:30

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63146908&amp;ptid=2161982" target="_blank">blackll7 发表于 2023-11-27 01:28</a>

其实问这个问题本身就是一个问题，突出了对游戏的理解有误，因为影响这一装备游玩效果的并不是期望而是概型 ...</blockquote>
实际情况不一样，需要计算的东西都不一样，主要还是楼主给的信息太少了。

但是按他的意思，计算蓝量足够多少次施法用特效会更赚是最直接的参考了


*****

####  blackll7  
##### 61#       发表于 2023-11-27 01:44

 本帖最后由 blackll7 于 2023-11-27 01:51 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63146919&amp;ptid=2161982" target="_blank">Arccueid 发表于 2023-11-27 01:30</a>
实际情况不一样，需要计算的东西都不一样，主要还是楼主给的信息太少了。

但是按他的意思，计算蓝量足够 ...</blockquote>
<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">其实应该这样看待。
以六次施法举例，无装备裸放6次。
装备后，
开始施法：
0.95^5＝77.3%的概率施法5次→卒
23%的概率进入收益模式
收益模式：
→期望约获得2.5次额外施法（因为0.95的次数间衰减很小，假设认为触发技能的次数是均匀分布的）→开始施法
这样就是一个经典概型了
期望5+2.5*（23%+23%^2+.....）约5.75次施法。

—— 来自 OnePlus CPH2487, Android 13上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  oi99o  
##### 62#       发表于 2023-11-27 01:47

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63143162&amp;ptid=2161982" target="_blank">tsubasa9 发表于 2023-11-26 16:03</a>
我替你算了，就当没有自然回蓝算,

假设1.2倍耗蓝后，完全不触发回满蓝能打该技能的次数是c

那么原来能打的 ...</blockquote>
有个问题，白板技能次数不是随机变量而是确定的整数，你这1.2c在比较的时候应该向下取整，所以在c=1，2，3，4的时候仍然是新技能更赚。
这样随之而来还有个问题：最大蓝量是能被原版耗蓝整除还是被1.2倍耗蓝整除？这样又会有很多情况值得继续讨论<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">

[论坛助手,iPhone](https://bbs.saraba1st.com/2b/forum.php?mod=viewthread&amp;tid=2029836)


*****

####  tsubasa9  
##### 63#       发表于 2023-11-27 06:41

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63146975&amp;ptid=2161982" target="_blank">oi99o 发表于 2023-11-27 01:47</a>

有个问题，白板技能次数不是随机变量而是确定的整数，你这1.2c在比较的时候应该向下取整，所以在c=1，2， ...</blockquote>
取整会有一些边界数值问题，但趋势不变，可以认为白板能放8次及以上，本技能就是正收益


*****

####  伊丽莎白二世  
##### 64#       发表于 2023-11-27 11:59

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63142569&amp;ptid=2161982" target="_blank">你妈的为什么 发表于 2023-11-26 14:13</a>
黑鸟不点精气光环是吧</blockquote>
可能怕目光呆滞，总之忘了，最后沦为反社会分子<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

