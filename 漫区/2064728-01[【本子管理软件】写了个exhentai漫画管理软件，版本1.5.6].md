
*****

####  100SHIKI  
##### 184#       发表于 2023-11-25 21:47

写脚本处理目录的时候，发现一个问题反馈一下。win10在建立文件夹的时候，长路径有一个最大长度限制。
我一开始用Python脚本就生成了这种超长的路径，图片存在最后一个路径下，使用“手动扫描”功能时，程序会删除第一张图，并且报input file is missing，每扫一次会删除一张图片。这个删除动作感觉挺危险的。
你可以用一个本子嵌套两个同名文件夹，然后给父级文件夹重命名加长来测试

[  -- 来自 能搜索的 Stage1官方 Android客户端](https://www.coolapk.com/apk/140634)


*****

####  schneehertz  
##### 185#         楼主| 发表于 2023-11-25 22:59

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63138844&amp;ptid=2064728" target="_blank">100SHIKI 发表于 2023-11-25 21:47</a>

写脚本处理目录的时候，发现一个问题反馈一下。win10在建立文件夹的时候，长路径有一个最大长度限制。

我一 ...</blockquote>
我复现了这个错误，但没有发现会删除源文件
 load E:\Comix\1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678\123456789012345678901234567890\DALLE3 failed because  Error: Input file is missing: E:\Comix\1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678\123456789012345678901234567890\DALLE3\DALL·E 2023-10-19 20.07.17 - Illustration in Japanes .png, 129 of 1579复制代码

有没有其他的log可以参考？


*****

####  100SHIKI  
##### 186#       发表于 2023-11-26 08:50

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63139312&amp;ptid=2064728" target="_blank">schneehertz 发表于 2023-11-25 22:59</a>

我复现了这个错误，但没有发现会删除源文件</blockquote>
找一本测试,日志如下

库文件夹设置的是 "D:\Tachiyomi\E-Hentai (OTHER)"

操作系统是win10 22H2 get D:\Tachiyomi\E-Hentai (OTHER)\[さーくる・UTUMNO (UTUMNO)] [さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)]UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)]UTUMNO (UTUMNO)][さーくる・[さーくる・UTUMNO (UTUMNO)]スレッタッタッ (機動戦士ガンダム 水星の魔女)\[さーくる・UTUMNO (UTUMNO)] スレッタッタッ (機動戦士ガンダム 水星の魔女) failed because Error: Input file is missing: D:\Tachiyomi\E-Hentai (OTHER)\[さーくる・UTUMNO (UTUMNO)] [さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)]UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)][さーくる・UTUMNO (UTUMNO)]UTUMNO (UTUMNO)][さーくる・[さーくる・UTUMNO (UTUMNO)]スレッタッタッ (機動戦士ガンダム 水星の魔女)\[さーくる・UTUMNO (UTUMNO)] スレッタッタッ (機動戦士ガンダム 水星の魔女)\001.jpg复制代码


*****

####  schneehertz  
##### 187#         楼主| 发表于 2023-11-26 12:20

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63140661&amp;ptid=2064728" target="_blank">100SHIKI 发表于 2023-11-26 08:50</a>

找一本测试,日志如下

库文件夹设置的是 "D:\Tachiyomi\E-Hentai (OTHER)"

操作系统是win10 22H2</blockquote>
Input file is missing这个错误是图片处理的库不支持长文件路径引发的，我在dev分支修复了这个问题，你试一下以下的包，看还会不会出现这种情况

[https://cowtransfer.com/s/a964eda43ad049](https://cowtransfer.com/s/a964eda43ad049) 点击链接查看 [ exhentai-manga-manager Setup 1.5.10.exe ] ，或访问奶牛快传 cowtransfer.com 输入传输口令 7myab2 查看；


*****

####  100SHIKI  
##### 188#       发表于 2023-11-26 12:55

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=63141838&amp;ptid=2064728" target="_blank">schneehertz 发表于 2023-11-26 12:20</a>

Input file is missing这个错误是图片处理的库不支持长文件路径引发的，我在dev分支修复了这个问题，你试 ...</blockquote>
<img src="https://static.saraba1st.com/image/smiley/animal2017/008.png" referrerpolicy="no-referrer"> 测试过了,超长路径已经可以正常读取目录

